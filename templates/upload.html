{%extends "base.html"%}

{%block title%}Scan File{%endblock%}

{%block head%}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="jquery-3.5.1.min.js"></script>

<script>
    function optSelect(){
        if (document.getElementById("option1").checked){
            document.getElementById("choice1").style.display='block';
            document.getElementById("choice2").style.display='none';
            document.getElementById("choice3").style.display='block';
            }
        
        if (document.getElementById("option2").checked){
            document.getElementById("choice1").style.display='none';
            document.getElementById("choice2").style.display='block';
            document.getElementById("choice3").style.display='block';
            }
    }
</script>
<script language="javascript" type="text/javascript">
    $(function()
    {
        $('#choice1').on('change',function ()
        {
            var filePath = $(this).val();
            console.log(filePath);
         });
    });
</script>
<script type="text/javascript">    
    var path = (window.URL || window.webkitURL).createObjectURL(file);
    console.log('path', path);
</script>
{%endblock%}

{%block content%}
<h1 class="container p-3 mb-2"> What files do you want to scan today?<br> [csv, xlsx, db, docx, doc, pdf, txt, links]</h1>
        <!-- <h2>msg</h2> -->
        <!--Scanning-->
        <div class="container rounded p-3 mb-2 bg-info">
            <div class="d-flex justify-content-between">
                <h2>Scan File</h2>
                <form>
                    <button type="submit" class="btn btn-success btn-lg" formaction="{{ url_for('index')}}">Home</button>
                    <button type="submit" class="btn btn-success btn-lg" formaction="{{ url_for('upload_file')}}">Scan</button>
                    <button type="submit" class="btn btn-success btn-lg" formaction="{{ url_for('piiView')}}">View Reports</button>
                </form>     
            </div>
            <br>
            <div class="p-3 mb-2 bg-white">
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="option1" value="option1" onclick="optSelect()">
                    <label class="form-check-label" for="inlineRadio1">File</label>
                
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="option2" value="option2" onclick="optSelect()">
                    <label class="form-check-label" for="inlineRadio2">Webpage</label>
                </div>
                <br> 
                
                <!-- Input Field-->              
                <form class= "reveal" action="/upload" method="POST" enctype="multipart/form-data">
            
                    <div class="form-group col-md-6" id="choice1" style="display:none">
                        <label>Select files that need to be scanned</label>
                        <input type="file" class="custom-file-input" name="file" id="file" multiple="true">
                    </div>
                    <div class="form-group col-md-6" id="choice2" style="display:none">
                        <label>Enter the link for the website that needs to be scanned</label>
                        <input type="text" class="form-control" name = "web-scan" id="web-scan" placeholder="Insert the web url here" size="500">
                    </div>
                    <br>
                    <button type="submit" class="btn btn-primary" id="choice3" style="display:none">Scan</button>
            
                </form>               
            </div>
        </div>

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
        <script>
            var iptEls = document.querySelectorAll('input');
                [].forEach.call(inps, function(iptEl) {
                iptEl.onchange = function(e) {
                console.log(this.files);
                };
            });
        </script>
{%endblock%}
